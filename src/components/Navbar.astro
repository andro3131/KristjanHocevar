---
const navLinks = [
  { href: "#o-meni", label: "O meni" },
  { href: "#videospoti", label: "Videospoti" },
  { href: "#kontakt", label: "Kontakt" },
];
---

<nav
  id="navbar"
  class="fixed top-0 left-0 right-0 z-50 transition-all duration-300"
>
  <div class="max-w-6xl mx-auto px-6 py-4 flex items-center justify-between">
    <!-- Logotip / Ime -->
    <a
      href="#"
      class="font-serif text-2xl font-bold text-text hover:text-accent transition-colors"
    >
      Kristjan Hocevar
    </a>

    <!-- Desktop navigacija -->
    <div class="hidden md:flex items-center gap-8">
      {
        navLinks.map((link) => (
          <a
            href={link.href}
            class="text-sm tracking-widest uppercase text-muted hover:text-accent transition-colors"
          >
            {link.label}
          </a>
        ))
      }
    </div>

    <!-- Hamburger -->
    <button
      id="menu-toggle"
      class="md:hidden relative z-50 w-8 h-8 flex flex-col justify-center items-center gap-1.5"
      aria-label="Odpri meni"
    >
      <span
        class="menu-line block w-6 h-0.5 bg-text transition-all duration-300"
      ></span>
      <span
        class="menu-line block w-6 h-0.5 bg-text transition-all duration-300"
      ></span>
      <span
        class="menu-line block w-6 h-0.5 bg-text transition-all duration-300"
      ></span>
    </button>
  </div>

  <!-- Mobilni meni -->
  <div
    id="mobile-menu"
    class="fixed inset-0 bg-bg/95 backdrop-blur-sm flex items-center justify-center transform translate-x-full transition-transform duration-300 md:hidden"
  >
    <div class="flex flex-col items-center gap-8">
      {
        navLinks.map((link) => (
          <a
            href={link.href}
            class="mobile-link text-2xl font-serif text-text hover:text-accent transition-colors"
          >
            {link.label}
          </a>
        ))
      }
    </div>
  </div>
</nav>

<script>
  const navbar = document.getElementById("navbar")!;
  const menuToggle = document.getElementById("menu-toggle")!;
  const mobileMenu = document.getElementById("mobile-menu")!;
  const menuLines = menuToggle.querySelectorAll(".menu-line");
  const mobileLinks = mobileMenu.querySelectorAll(".mobile-link");

  let isMenuOpen = false;

  // Scroll effect
  window.addEventListener("scroll", () => {
    if (window.scrollY > 50) {
      navbar.classList.add("bg-bg/90", "backdrop-blur-md", "shadow-lg");
    } else {
      navbar.classList.remove("bg-bg/90", "backdrop-blur-md", "shadow-lg");
    }
  });

  // Mobile toggle
  menuToggle.addEventListener("click", () => {
    isMenuOpen = !isMenuOpen;
    if (isMenuOpen) {
      mobileMenu.classList.remove("translate-x-full");
      mobileMenu.classList.add("translate-x-0");
      menuLines[0].classList.add("rotate-45", "translate-y-2");
      menuLines[1].classList.add("opacity-0");
      menuLines[2].classList.add("-rotate-45", "-translate-y-2");
      document.body.style.overflow = "hidden";
    } else {
      closeMenu();
    }
  });

  mobileLinks.forEach((link) => {
    link.addEventListener("click", () => closeMenu());
  });

  function closeMenu() {
    isMenuOpen = false;
    mobileMenu.classList.add("translate-x-full");
    mobileMenu.classList.remove("translate-x-0");
    menuLines[0].classList.remove("rotate-45", "translate-y-2");
    menuLines[1].classList.remove("opacity-0");
    menuLines[2].classList.remove("-rotate-45", "-translate-y-2");
    document.body.style.overflow = "";
  }
</script>
